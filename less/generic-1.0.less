//!/usr/bin/env lessc
// -*- coding: utf-8 -*-

/* region header

Copyright Torben Sickert 16.12.2012

License
-------

This library written by Torben Sickert stand under a creative commons naming
3.0 unported license. see http://creativecommons.org/licenses/by/3.0/deed.de

endregion

region special selectors

InternetExplorer6-: * html
InternetExplorer7+: *+ html

Conventions
-----------

(gcX := generic convention number x)

- __gc1__ Only use utf-8 file encoding and unix line feeds (\n)
    - __bad__: ```text...\r\n``` or ```text...\r```
    - __good__: ```text...\n```
- __gc2__ Always indent your code with __4__ whitespaces, don't use and
  tabulators or invisbile symbols at the end of your code line.
- __gc3__ Browser specific code and tell which version is targeted on which
  engine to maintain cross browser compatibility

__bad__:
```
#!css
background-color: white;
background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(white), to(black));
background: -webkit-linear-gradient(@direction, white, black);
background: -moz-linear-gradient(@direction, white, black);
background: -ms-linear-gradient(@direction, white, black);
background: -o-linear-gradient(@direction, white, black);
background: linear-gradient(white, black);
```
__good__:
```
#!css
// fallback
background-color: white;
// safari 4-5, chrome 1-9
background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(white), to(black));
// safari 5.1, chrome 10+
background: -webkit-linear-gradient(@direction, white, black);
// firefox 3.6+
background:    -moz-linear-gradient(@direction, white, black);
// internetExplorer 10
background:     -ms-linear-gradient(@direction, white, black);
// opera 11.10+
background:      -o-linear-gradient(@direction, white, black);
// css3
background:         linear-gradient(white, black);
```

endregion */

#generic() {

// region mixins

    // Renders a gradient from given color to another given color.
    .linear-gradient(
        @direction: top, @fallback: gray, @from: black, @to: white
    ) {
        .direction() when (@direction = top) {
            background-image: linear-gradient(to bottom, @from, @to);
        }
        .direction() when (@direction = left) {
            background-image: linear-gradient(to right, @from, @to);
        }
        // fallback
        background-color: @fallback;
        // safari 4-5, chrome 1-9
        background: -webkit-gradient(
            linear, 0% 0%, 0% 100%, from(@from), to(@to));
        // safari 5.1, chrome 10+
        background: -webkit-linear-gradient(@direction, @from, @to);
        // firefox 3.6+
        background:    -moz-linear-gradient(@direction, @from, @to);
        // internetExplorer 10
        background:     -ms-linear-gradient(@direction, @from, @to);
        // opera 11.10+
        background:      -o-linear-gradient(@direction, @from, @to);
        // css3
        background:         linear-gradient(@from, @to);
        .direction;
        // NOTE: Won't parse sometimes.
        // filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr='%d', endColorstr='%d', GradientType=0)", @to, @from));
    }
    // Shows a border around given dom node.
    .bordered(
        @topColor: #EEE, @rightColor: #EEE, @bottomColor: #EEE,
        @leftColor: #EEE, @thickness: 1px, @type: solid
    ) {
        border-top: @type @thickness @top-color;
        border-left: @type @thickness @left-color;
        border-right: @type @thickness @right-color;
        border-bottom: @type @thickness @bottom-color;
    }
    // Mixin for CSS-property "tab-size", generates cross-browser-compatible
    // "tab-size" output.
    .tab-size(@value: 4) {
        -moz-tab-size: @arguments;
          -o-tab-size: @arguments;
             tab-size: @arguments;
    }
    // Disables or enables selection of content of a given element.
    .user-select(@value: none) {
        -webkit-user-select: @arguments;
           -moz-user-select: @arguments;
            -ms-user-select: @arguments;
                user-select: @arguments;
    }
    // Shows rounded corners at the dom nodes.
    .border-radius(@size: 4px) {
        // safari, chrome, iOS Safari 3.2, Android 2.1
        -webkit-border-radius: @arguments;
        // konqueror
         -khtml-border-radius: @arguments;
        // firefox
           -moz-border-radius: @arguments;
        // css3
                border-radius: @arguments;
    }
    // Defines rounded border in a detailed way.
    .rounded-border(
        @topRight: 0, @bottomRight: 0, @bottomLeft: 0, @topLeft: 0
    ) {
        -webkit-border-top-right-radius: @topRight;
        -webkit-border-bottom-right-radius: @bottomRight;
        -webkit-border-bottom-left-radius: @bottomLeft;
        -webkit-border-top-left-radius: @topLeft;

        -moz-border-radius-topright: @topRight;
        -moz-border-radius-bottomright: @bottomRight;
        -moz-border-radius-bottomleft: @bottomLeft;
        -moz-border-radius-topleft: @topLeft;

        border-top-right-radius: @topRight;
        border-bottom-right-radius: @bottomRight;
        border-bottom-left-radius: @bottomLeft;
        border-top-left-radius: @topLeft;

        #generic > .background-clip(padding-box);
    }
    // Shows shadows on dom nodes.
    .box-shadow(
        @horizontalPosition: 2px, @verticalPosition: 2px, @size: 2px,
        @color: black
    ) {
        // safari, chrome
        -webkit-box-shadow: @arguments;
        // firefox
           -moz-box-shadow: @arguments;
        // opera
             -o-box-shadow: @arguments;
        // internet explorer
            -ms-box-shadow: @arguments;
        // css3
                box-shadow: @arguments;
    }
    // Performs an inner shadow on current dom node.
    .inner-shadow(@horizontal: 0, @vertical: 1px, @blur: 2px, @alpha: 0.4) {
        -webkit-box-shadow: inset @horizontal @vertical @blur rgba(0, 0, 0, @alpha);
           -moz-box-shadow: inset @horizontal @vertical @blur rgba(0, 0, 0, @alpha);
                box-shadow: inset @horizontal @vertical @blur rgba(0, 0, 0, @alpha);
    }
    // Allows you to make columns in a text.
    .columns(
        @columnWidth: 250px, @columnCount: 0, @columnGap: 50px,
        @columnRuleColor: #EEE, @columnRuleStyle: solid,
        @columnRuleWidth: 1px
    ) {
        -moz-column-width: @columnWidth;
        -moz-column-count: @columnCount;
        -moz-column-gap: @columnGap;
        -moz-column-rule-color: @columnRuleColor;
        -moz-column-rule-style: @columnRuleStyle;
        -moz-column-rule-width: @columnRuleWidth;

        -webkit-column-width: @columnWidth;
        -webkit-column-count: @columnCount;
        -webkit-column-gap: @columnGap;
        -webkit-column-rule-color: @columnRuleColor;
        -webkit-column-rule-style: @columnRuleStyle;
        -webkit-column-rule-width: @columnRuleWidth;

        column-width: @columnWidth;
        column-count: @columnCount;
        column-gap: @columnGap;
        column-rule-color: @columnRuleColor;
        column-rule-style: @columnRuleStyle;
        column-rule-width: @columnRuleWidth;
    }
    // This property is used to determine whether the backgrounds extends
    // into the border or not.
    .background-clip(@value: padding-box) {
        -webkit-background-clip: @arguments;
           -moz-background-clip: @arguments;
                background-clip: @arguments;
    }
    // Make a dom node transparent.
    .opacity(@opacity) {
        // chrome, safari, other webkit browsers
        -webkit-opacity: @arguments;
        // safari 1.x
         -khtml-opacity: @arguments;
        // netscape
           -moz-opacity: @arguments;
        // css3
                opacity: @arguments;
        @opacityInPercent: @opacity * 100;
        // internetExplorer 8
        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=@{opacityInPercent})";
        // internetExplorer 5 - 7
            filter: alpha(opacity=@opacityInPercent);
    }
    // Apply a box layout model to a dom node.
    .box-sizing(@type: border-box) {
        // chrome, safari, other webkit browsers
        -webkit-box-sizing: @type;
        // netscape, firefox 2.0+
           -moz-box-sizing: @type;
        // css3, internetExplorer 8+, opera 9.5+
                box-sizing: @type;
    }

        // region animation

    // Generates cross browser compatible "transform" for a given element.
    .transform(@arguments) {
        // chrome, safari, iOS Safari, Android Stock
        -webkit-transform: @arguments;
        // opera 12
             -o-transform: @arguments;
        // internetExplorer
            -ms-transform: @arguments;
        // css3, internetExplorer 9+
                transform: @arguments;
    }
    // Rotate current dom node.
    .rotation(@degree:5deg) {
        .transform(rotate(@arguments));
    }
    // Scales current dom node.
    .scale(@ratio:1.5) {
        .transform(scale(@arguments));
    }
    // Generates cross-browser-compatible "transition" output for a given
    // element.
    .transition(@type: all, @duration: 0.2s, @ease: ease) {
        // chrome, safari, other webkit browsers
        -webkit-transition: @arguments;
        // netscape, firefox 2.0+
           -moz-transition: @arguments;
        // opera 12
             -o-transition: @arguments;
        // css3, internetExplorer 9+
                transition: @arguments;
    }
    // Defines a transition duration in an animation effect.
    .transition-duration(@duration: 0.2s) {
        // chrome, safari, other webkit browsers
        -webkit-transition-duration: @arguments;
        // netscape, firefox 2.0+
           -moz-transition-duration: @arguments;
        // opera 12
             -o-transition-duration: @arguments;
        // css3, internetExplorer 9+
                transition-duration: @arguments;
    }
    // Rotate a given image in webkit browsers.
    .image-rotate(
        @imagePath, @duration: 2s, @iterationNumber: infinite,
        @timingFunction: linear
    ) {
        // chrome, safari, other webkit browsers
        -webkit-mask-image: url(~'@{imagePath}');
        -webkit-animation-name: rotate;
        -webkit-animation-duration: @duration;
        -webkit-animation-iteration-count: @iterationNumber;
        -webkit-animation-timing-function: @timingFunction;
    }

        // endregion

    // endregion

    // region classes

    // Sets pseudo icon tag properties.
    .icon {
        display: inline-block;
        width: 30px;
        height: 30px;
        vertical-align: text-top;
        overflow: hidden;
        background-image: url('@{imagePath}composition.png');
        background-position: 14px 14px;
        background-repeat: no-repeat;
    }
    // Shows dots for word which are too long.
    .ellipsis-by-text-overflow {
        // opera
        -o-text-overflow: ellipsis;
        // css3
           text-overflow: ellipsis;

        overflow: hidden;
        word-wrap: break-word;
    }
    // Performs a reflection on provided dom node.
    .reflect {
        // internetExplorer 9
        -ms-filter: "FlipH";
        // internetExplorer 4 - 8
            filter: FlipH;
        // safari, chrome, other webkit browsers
        -webkit-transform: scaleX(-1);
        // mozilla
           -moz-transform: scaleX(-1);
        // opera
             -o-transform: scaleX(-1);
        // css3
                transform: scaleX(-1);
    }

// endregion

}

// region vim modline

// vim: set tabstop=4 shiftwidth=4 expandtab:
// vim: foldmethod=marker foldmarker=region,endregion:

// endregion
